# Temu API æµ‹è¯•å·¥å…·é›†

## ğŸ“‹ å½“å‰çŠ¶æ€

### âœ… å·²éªŒè¯
- âœ… APIè¿æ¥æˆåŠŸï¼ˆhttps://openapi-b-us.temu.com/openapi/routerï¼‰
- âœ… è¯·æ±‚æ ¼å¼æ­£ç¡®
- âœ… ç­¾åç®—æ³•æ­£ç¡®ï¼ˆMD5ï¼‰
- âœ… App Key å’Œ App Secret æœ‰æ•ˆ

### â“ å¾…é…ç½®
- ğŸ“ éœ€è¦ä»æ–‡æ¡£è·å– Access Tokenï¼ˆæ²™ç›’ä»¤ç‰Œï¼‰

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ 1: è·å– Access Token

è®¿é—®æ–‡æ¡£é¡µé¢ï¼Œè·å–æ²™ç›’ä»¤ç‰Œï¼š
- [æ–‡æ¡£é“¾æ¥ 1](https://partner-us.temu.com/documentation?menu_code=38e79b35d2cb463d85619c1c786dd303&sub_menu_code=2d81829fcbbc4058b95f695440e75236)
- [æ–‡æ¡£é“¾æ¥ 2](https://partner-us.temu.com/documentation?menu_code=38e79b35d2cb463d85619c1c786dd303&sub_menu_code=9cf457c922fe4b33b93c23ab1d8b15d0)

åœ¨æ–‡æ¡£ä¸­æŸ¥æ‰¾ï¼š
- "Sandbox Token" / "æµ‹è¯•ä»¤ç‰Œ"
- "Test Access Token" / "æµ‹è¯•è®¿é—®ä»¤ç‰Œ"
- ç¤ºä¾‹ä»£ç ä¸­çš„ `access_token` å€¼

### æ­¥éª¤ 2: è®¾ç½® Token

**æ–¹æ³• 1: ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰**
```bash
export TEMU_ACCESS_TOKEN='ä½ ä»æ–‡æ¡£ä¸­è·å–çš„token'
```

**æ–¹æ³• 2: äº¤äº’å¼è¾“å…¥**
```bash
python3 api_test_interactive.py
# ç„¶ååœ¨æç¤ºæ—¶è¾“å…¥token
```

### æ­¥éª¤ 3: è¿è¡Œæµ‹è¯•

```bash
# è¯¦ç»†æµ‹è¯•ï¼ˆæ¨èï¼‰
python3 api_test_detailed.py

# æˆ–ä½¿ç”¨äº¤äº’å¼æµ‹è¯•
python3 api_test_interactive.py

# æˆ–åŸºç¡€æµ‹è¯•
python3 api_test.py
```

---

## ğŸ› ï¸ æµ‹è¯•å·¥å…·è¯´æ˜

### 1. `api_test.py` - åŸºç¡€æµ‹è¯•
æœ€ç®€å•çš„æµ‹è¯•è„šæœ¬ï¼Œæµ‹è¯•å•†å“åˆ†ç±»æ¥å£ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
export TEMU_ACCESS_TOKEN='ä½ çš„token'
python3 api_test.py
```

### 2. `api_test_detailed.py` - è¯¦ç»†æµ‹è¯•
æµ‹è¯•å¤šä¸ªAPIç«¯ç‚¹ï¼Œæä¾›è¯¦ç»†çš„è¯·æ±‚å’Œå“åº”ä¿¡æ¯ã€‚

**æµ‹è¯•çš„APIï¼š**
- æŸ¥è¯¢å•†å“åˆ†ç±»
- æŸ¥è¯¢Tokenä¿¡æ¯
- è·å–åº—é“ºä¿¡æ¯
- è®¢å•åˆ—è¡¨æŸ¥è¯¢

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
export TEMU_ACCESS_TOKEN='ä½ çš„token'
python3 api_test_detailed.py
```

### 3. `api_test_interactive.py` - äº¤äº’å¼æµ‹è¯• â­
**æ¨èä½¿ç”¨ï¼** å¯ä»¥æ‰‹åŠ¨è¾“å…¥tokenï¼Œå®æ—¶æµ‹è¯•ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
python3 api_test_interactive.py
# æŒ‰æç¤ºè¾“å…¥access_token
```

**ç‰¹ç‚¹ï¼š**
- è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå˜é‡
- æ”¯æŒæ‰‹åŠ¨è¾“å…¥token
- æµ‹è¯•å¤šä¸ªå¸¸ç”¨æ¥å£
- æ¸…æ™°çš„æˆåŠŸ/å¤±è´¥ç»Ÿè®¡

---

## ğŸ“Š æµ‹è¯•ç»“æœç¤ºä¾‹

### æˆåŠŸå“åº”
```json
{
    "success": true,
    "requestId": "us-xxx-xxx-xxx",
    "result": {
        // è¿”å›çš„æ•°æ®
    }
}
```

### å¤±è´¥å“åº”
```json
{
    "success": false,
    "requestId": "us-xxx-xxx-xxx",
    "errorCode": 3000030,
    "errorMsg": "there is no access_token in body."
}
```

---

## ğŸ” å¸¸è§é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ | è§£å†³æ–¹æ³• |
|--------|------|---------|
| 3000030 | ç¼ºå°‘ access_token | è®¾ç½® TEMU_ACCESS_TOKEN ç¯å¢ƒå˜é‡ |
| 1000001 | ç­¾åé”™è¯¯ | æ£€æŸ¥ App Key å’Œ App Secret |
| 1000002 | å‚æ•°é”™è¯¯ | æ£€æŸ¥è¯·æ±‚å‚æ•°æ ¼å¼ |
| 3000010 | Tokenè¿‡æœŸ | é‡æ–°è·å– access_token |

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

```
/Users/vanky/code/temu-Omni/
â”œâ”€â”€ api_test.py                    # åŸºç¡€æµ‹è¯•è„šæœ¬
â”œâ”€â”€ api_test_detailed.py           # è¯¦ç»†æµ‹è¯•è„šæœ¬
â”œâ”€â”€ api_test_interactive.py        # äº¤äº’å¼æµ‹è¯•è„šæœ¬ â­
â”œâ”€â”€ README_API_TESTING.md          # æœ¬æ–‡æ¡£
â”œâ”€â”€ TEMU_API_TEST_GUIDE.md         # è¯¦ç»†æµ‹è¯•æŒ‡å—
â””â”€â”€ Temu_OpenAPI_å¼€å‘è€…æ–‡æ¡£.md     # APIæ–‡æ¡£
```

---

## ğŸ“ ä¸‹ä¸€æ­¥

å®ŒæˆAPIæµ‹è¯•åï¼Œä½ å¯ä»¥ï¼š

1. **é›†æˆåˆ°ä¸»åº”ç”¨**
   - æ›´æ–° `backend/app/temu/client.py` ä½¿ç”¨æ­£ç¡®çš„ç­¾åç®—æ³•
   - æ·»åŠ æ›´å¤šä¸šåŠ¡æ¥å£

2. **é…ç½®ç”Ÿäº§ç¯å¢ƒ**
   - è®¾ç½®çœŸå®çš„ App Key å’Œ Secret
   - å®ŒæˆOAuthæˆæƒæµç¨‹
   - è·å–ç”Ÿäº§ç¯å¢ƒçš„ access_token

3. **å¼€å‘ä¸šåŠ¡åŠŸèƒ½**
   - åŒæ­¥å•†å“æ•°æ®
   - å¤„ç†è®¢å•ä¿¡æ¯
   - å®ç°ç‰©æµè¿½è¸ª

---

## ğŸ’¡ æç¤º

### å¦‚æœä½ å·²ç»æœ‰äº†æ²™ç›’tokenï¼š

```bash
# ä¸€é”®æµ‹è¯•
export TEMU_ACCESS_TOKEN='ä½ çš„æ²™ç›’token'
python3 api_test_interactive.py
```

### å¦‚æœè¿˜æ²¡æœ‰tokenï¼š

1. æ‰“å¼€ä¸Šé¢çš„æ–‡æ¡£é“¾æ¥
2. æŸ¥æ‰¾æ²™ç›’æµ‹è¯•å‡­æ®
3. å¤åˆ¶ access_token
4. è¿è¡Œäº¤äº’å¼æµ‹è¯•è„šæœ¬

---

## ğŸ› é‡åˆ°é—®é¢˜ï¼Ÿ

å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. é”™è¯¯ç å’Œé”™è¯¯ä¿¡æ¯
2. ä½¿ç”¨çš„æµ‹è¯•è„šæœ¬
3. æ˜¯å¦è®¾ç½®äº† access_token

æˆ‘ä¼šå¸®åŠ©ä½ è§£å†³ï¼

---

**æœ€åæ›´æ–°**: 2025-10-30
**çŠ¶æ€**: âœ… APIè¿æ¥å·²éªŒè¯ï¼Œç­‰å¾…access_tokenè¿›è¡Œå®Œæ•´æµ‹è¯•

